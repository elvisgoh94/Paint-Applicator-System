<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Full Coating System – Beautiful Wizard</title>
<style>
  :root{
    --bg:#f2f6fb;
    --card:#ffffff;
    --ink:#101828;
    --muted:#667085;
    --brand:#0b63d1;
    --brand-2:#39b3ff;
    --ok:#22c55e;
    --danger:#e11d48;
    --ring:0 0 0 3px rgba(11,99,209,.18);
    --shadow:0 10px 30px rgba(16,24,40,.08);
    --radius:16px;
  }

  *{box-sizing:border-box}
  body{
    margin:0;background:linear-gradient(180deg,#eaf3ff, #f9fbff 40%, #eef3f8);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    color:var(--ink);
  }

  /* Header */
  .hero{
    padding:28px 16px 8px;
    text-align:center;
  }
  .title{
    font-size:38px; font-weight:800; letter-spacing:.3px; margin:0;
    background: linear-gradient(90deg, #0b63d1, #39b3ff);
    -webkit-background-clip: text; background-clip:text; color:transparent;
  }
  .sub{color:var(--muted); margin:8px 0 0; font-size:14px}

  /* Layout */
  .wrap{
    max-width:1200px; margin:18px auto 40px; padding:0 16px;
    display:grid; grid-template-columns: 1fr 1.1fr; gap:22px;
  }

  /* Card */
  .card{
    background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
    padding:18px;
  }

  /* Steps */
  .step{
    border:1px solid #e6edf6; border-radius:14px; padding:14px 14px 12px; margin-bottom:12px;
    position:relative; transition:.25s ease;
    opacity:.45; filter:saturate(.6); pointer-events:none;
  }
  .step.active{opacity:1; filter:saturate(1); pointer-events:auto; border-color:#dbe8ff}
  .step::before{
    content:attr(data-step);
    position:absolute; top:-12px; left:14px;
    background:#fff; border-radius:999px; border:1px solid #e6edf6;
    padding:4px 10px; font-size:12px; color:var(--muted)
  }
  .step h3{margin:2px 0 12px; font-size:18px}
  .hint{font-size:12px; color:var(--muted); margin-top:6px}

  /* Button group */
  .btns{display:flex; flex-wrap:wrap; gap:10px}
  .btn{
    appearance:none; border:1px solid #d9e3f2; padding:10px 14px; background:#f9fbff;
    border-radius:12px; cursor:pointer; font-weight:600; color:#0f172a; transition:.2s;
  }
  .btn:hover{transform:translateY(-1px); box-shadow:var(--ring)}
  .btn:active{transform:translateY(0)}
  .btn.active{background:linear-gradient(180deg,#0b63d1,#0b63d1); color:#fff; border-color:#0b63d1; box-shadow:var(--ring)}
  .btn.ghost{background:#fff}

  .ok{
    width:100%; margin-top:10px; padding:13px 16px; border:0; border-radius:12px;
    background:linear-gradient(90deg,#16a34a,#22c55e); color:#fff; font-weight:800; letter-spacing:.5px;
    cursor:pointer; transition:filter .2s ease;
  }
  .ok:disabled{opacity:.4; cursor:not-allowed; filter:grayscale(.3)}
  .ok:not(:disabled):hover{filter:brightness(1.05)}

  /* Right: Preview + Result */
  .preview{
    display:grid; grid-template-rows: 280px auto; gap:14px;
  }
  .imgbox{
    border:1px solid #e9eef5; border-radius:14px; display:flex; align-items:center; justify-content:center;
    background: radial-gradient(1200px 220px at center bottom, #e6f1ff 0, transparent 60%);
    overflow:hidden;
  }
  .imgbox img{max-width:100%; height:auto; display:block}
  .badge{
    display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px;
    background:#102a43; color:#fff; font-size:12px; font-weight:700; margin-bottom:10px;
  }
  .dot{width:8px;height:8px;border-radius:50%;background:#39b3ff}

  table{width:100%; border-collapse:collapse; overflow:hidden; border-radius:12px}
  th,td{padding:12px; text-align:center; border:1px solid #e7edf7}
  th{background:#8a0f14; color:#fff; font-weight:800}
  .meta{margin-top:10px; color:var(--muted); font-size:13px}
</style>
</head>
<body>
  <header class="hero">
    <h1 class="title">Coating System / Paint Applicator System</h1>
    <p class="sub">Pick your options step-by-step. A result will always show.</p>
  </header>

  <main class="wrap">
    <!-- LEFT -->
    <section class="card">
      <div class="step active" id="s1" data-step="Step 1">
        <h3>Is it a Ship or Boat?</h3>
        <div class="btns" data-key="vessel">
          <button class="btn">Ship</button>
          <button class="btn">Boat</button>
        </div>
      </div>

      <div class="step" id="s2" data-step="Step 2">
        <h3>What type of Surface?</h3>
        <div class="btns" data-key="surface">
          <button class="btn">Steel</button>
          <button class="btn">Wood</button>
          <button class="btn">Fiberglass</button>
          <button class="btn">Aluminium</button>
        </div>
      </div>

      <div class="step" id="s3" data-step="Step 3">
        <h3>Apply on?</h3>
        <div class="btns" data-key="area">
          <button class="btn" data-img="topside.png">Top Side</button>
          <button class="btn" data-img="underwater.png">Underwater Area</button>
          <button class="btn" data-img="deck.png">Metal Deck</button>
          <button class="btn" data-img="topside.png">Superstructure</button>
          <button class="btn" data-img="topside.png">Masts</button>
        </div>
        <p class="hint">Pick one to unlock the next section.</p>
      </div>

      <!-- Underwater: Months -->
      <div class="step" id="s4m" data-step="Step 4 – Underwater" style="display:none;">
        <h3>Month Protection</h3>
        <div class="btns" data-key="months">
          <button class="btn">12</button>
          <button class="btn">12-24</button>
          <button class="btn">24-36</button>
          <button class="btn">30-42</button>
          <button class="btn">36-48</button>
          <button class="btn">48-60</button>
          <button class="btn">60-72</button>
        </div>
      </div>

      <!-- Price Range -->
      <div class="step" id="s4p" data-step="Step 4">
        <h3>Price Range</h3>
        <div class="btns" data-key="price">
          <button class="btn ghost">$</button>
          <button class="btn ghost">$$</button>
          <button class="btn ghost">$$$</button>
        </div>
        <button class="ok" id="ok" disabled>OKAY</button>
      </div>
    </section>

    <!-- RIGHT -->
    <section class="card preview">
      <div class="imgbox">
        <img id="img" alt="Area preview" />
      </div>
      <div>
        <div id="badge" class="badge" style="display:none;">
          <span class="dot"></span><span id="badgeText"></span>
        </div>
        <div id="result">
          <p style="color:#667085;font-size:14px;margin:0;">
            Select options on the left. Image and system will appear here.
          </p>
        </div>
      </div>
    </section>
  </main>

<script>
  // --- State ---
  const st = { vessel:null, surface:null, area:null, months:null, price:null, img:null };

  // --- Data (sample but sensible; always returns a system) ---
  const primers = {
    Steel: "Transvinypox 2.06",
    Aluminium: "Epoxy Universal 3.15",
    Fiberglass: "Epoxy Universal 3.15",
    Wood: "Wood Sealer 1.10"
  };

  // Price → tweaks (demo)
  const priceMap = {
    "$":   { buildAdd: 0,  finish: "PU Semi-Gloss 7.20" },
    "$$":  { buildAdd: 25, finish: "Polyurethane Gloss 7.40" },
    "$$$": { buildAdd: 50, finish: "Ultra PU High-Gloss 7.60" }
  };

  const systems = {
    "Top Side": (months, surface, price) => {
      const baseBuild = 100;
      const {buildAdd, finish} = priceMap[price] || priceMap["$$"];
      return [
        {product: primers[surface] || "Universal Primer", coats:1, dft:50},
        {product: "High Build Epoxy 6.20", coats:1, dft: baseBuild + buildAdd},
        {product: finish, coats:1, dft:60}
      ];
    },
    "Metal Deck": (months, surface, price) => [
      {product: primers[surface] || "Universal Primer", coats:1, dft:60},
      {product: "Epoxy Floor 6.50", coats:1, dft: 125 + (price==="$$$"?25:0)},
      {product: "Non-Skid PU 7.90", coats:1, dft:60}
    ],
    "Superstructure": (m,s,p) => [
      {product: primers[s] || "Universal Primer", coats:1, dft:50},
      {product: "Fine Filler Epoxy 6.05", coats:1, dft:80},
      {product: (priceMap[p]||priceMap["$$"]).finish, coats:1, dft:60}
    ],
    "Masts": (m,s,p) => [
      {product: primers[s] || "Universal Primer", coats:1, dft:50},
      {product: "Epoxy HB 6.30", coats:1, dft:110},
      {product: (priceMap[p]||priceMap["$$"]).finish, coats:1, dft:60}
    ],
    "Underwater Area": (months, surface, price) => {
      const tieNeeded = months && months !== "12";
      const afCoats = months === "12" ? 2 : months === "12-24" ? 2 : 3;
      const list = [{product: primers[surface] || "Universal Primer", coats:1, dft:75}];
      if (tieNeeded) list.push({product:"Tiecoat 5.30", coats:1, dft:60});
      list.push({product:"Longlife Antifouling 2.71", coats:afCoats, dft:75, perCoat:true});
      return list;
    }
  };

  // --- Helpers ---
  const qs = s => document.querySelector(s);
  const qsa = s => Array.from(document.querySelectorAll(s));

  function setActive(btn){
    const group = btn.closest(".btns");
    group.querySelectorAll(".btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
  }

  function unlock(id){ const el=qs(id); el.classList.add("active"); }

  function toggleMonths(show){
    qs("#s4m").style.display = show ? "block" : "none";
    if(show) unlock("#s4m");
  }

  function showPrice(){ qs("#s4p").style.display = "block"; unlock("#s4p"); }

  function canOK(){
    const needMonths = st.area === "Underwater Area";
    const ready = st.vessel && st.surface && st.area && st.price && (!needMonths || st.months);
    qs("#ok").disabled = !ready;
  }

  function preview(){
    if(st.img) qs("#img").src = st.img;
  }

  // --- Events: options click ---
  qsa(".btns").forEach(group=>{
    group.addEventListener("click", e=>{
      if(!e.target.classList.contains("btn")) return;
      const key = group.dataset.key;
      const val = e.target.textContent.trim();
      setActive(e.target);
      st[key] = val;

      if(key==="vessel") unlock("#s2");
      if(key==="surface") unlock("#s3");
      if(key==="area"){
        st.img = e.target.dataset.img || "";
        preview();
        if(val === "Underwater Area"){ toggleMonths(true); }
        else { toggleMonths(false); st.months = null; }
        showPrice();
      }
      if(key==="months"){ showPrice(); }
      canOK();
    });
  });

  // --- OK click → render result ---
  qs("#ok").addEventListener("click", ()=>{
    const fn = systems[st.area];
    let rows = fn ? fn(st.months, st.surface, st.price) : [];

    // Fallback (guarantee a result)
    if(!rows.length){
      rows = [
        {product:"Universal Primer", coats:1, dft:60},
        {product:"Generic Epoxy", coats:1, dft:120},
        {product:"Generic Finish", coats:1, dft:60}
      ];
    }

    // Badge
    const badge = qs("#badge");
    const areaTxt = st.area.toUpperCase();
    const extra = st.area==="Underwater Area" && st.months ? ` • ${st.months} months` : "";
    qs("#badgeText").textContent = `${areaTxt}${extra} • ${st.price}`;
    badge.style.display = "inline-flex";

    // Table
    let html = `<table>
      <tr><th colspan="3">${areaTxt}</th></tr>
      <tr><th>Product</th><th>Coats</th><th>DFT (µm)</th></tr>`;
    rows.forEach(r=>{
      const dft = r.perCoat ? `${r.dft} per coat` : r.dft;
      html += `<tr><td>${r.product}</td><td>x${r.coats}</td><td>${dft}</td></tr>`;
    });
    html += `</table>
      <div class="meta">Vessel: ${st.vessel} • Surface: ${st.surface}</div>`;
    qs("#result").innerHTML = html;
  });

  // Disable OK at start
  canOK();
</script>
</body>
</html>
